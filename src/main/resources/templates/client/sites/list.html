<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{client/layout}">

<head>
    <title>Index</title>
</head>
<div layout:fragment="page_content" id="page_content">
    <div class="alert alert-primary" role="alert">
        Contracts page <b>/Sites Table</b>
    </div>
    <table id="dtBasicExample" class="table table-striped table-bordered" cellspacing="0" width="100%">
        <thead>
        <tr>
            <th>#</th>
            <th class="th-sm">Contract
            </th>
            <th class="th-sm">Name
            </th>
            <th class="th-sm">Address
            </th>
            <th class="th-sm">Latitude
            </th>
            <th class="th-sm">Longitude
            </th>
            <th class="th-sm">Status
            </th>
            <th class="th-sm">Business Contact Email
            </th>
            <th class="th-sm">Operations Contact Email
            </th>
            <th>
                Action
            </th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="site,iter:${sites}">
            <td scope="row" th:text="${iter.index+1}"></td>
            <td th:text="${site.getContractName()}"></td>
            <td th:text="${site.getName()}"></td>
            <td th:text="${site.getAddress()}"></td>
            <td th:text="${site.getLat()}"></td>
            <td th:text="${site.getLng()}"></td>
            <td th:text="${site.getStatus()}"></td>
            <td th:text="${site.getBusinessContactEmail()}"></td>
            <td th:text="${site.getOperationsContactEmail()}"></td>
            <td>
                <a role="button" style="color:white" class="btn btn-danger btn-sm m-0" th:href="@{'/site/detail/'+${site.getId()}}"
                   aria-expanded="false">
                    <i class="fas fa-magic mr-1"></i>
                    Detail
                </a>
            </td>
        </tr>
        </tbody>
    </table>
</div>
<th:block layout:fragment="scripts">
    <script type="text/javascript">
        $(function () {
            $('#dtBasicExample').DataTable();
        });
    </script>
</th:block>